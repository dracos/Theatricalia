{% extends 'base.html' %}
{% load prettify %}

{% block fulltitle %}Theatricalia{% endblock %}

{% block extra_body %} id="home"{% endblock %}

{% block content %}

<p id="hello">Hello and welcome to Theatricalia, a <strong>database</strong> of past
and future <strong>theatre productions</strong>.

<div id="warning">
<p><em>Please be aware that no photography or recording equipment is allowed,
and no food or drink is to be consumed, within the theatre.
Please turn off all mobile telephones and other devices that may sound,
as these distract not only the audience, but also the performers.</em>
Thank you.</p>
</div>

<div id="example" class="col">
<h2 class="no-descenders">Example</h2>
<p><a href="/person/7xk/david-tennant">David Tennant</a>
played the title role in the
<a href="/play/2/hamlet/production/3qn">RSC&rsquo;s production</a>
of <a href="/play/2/hamlet">Hamlet</a> by
<a href="/person/william-shakespeare">William Shakespeare</a>
at the <a href="/place/47/courtyard-theatre-stratford-upon-avon">Courtyard Theatre</a>.

<p align="center"><img src="/static/i/hamlet.jpg" alt=""></p>

</div>

<div class="col">

<h2 class="no-descenders">Features</h2>

<ul>
<li>Each place, person, and play has an RSS feed or email alert, so you can keep up
to date with what something or someone is doing.
<li>Search for a person, play, place, or part;
or search for a location to find things near you.
<li>Is your production not on the site? <a href="/add" title="Add a production">Add it</a>!
</ul>

</div>

<div class="secondary" id="latest">
<h2 class="no-descenders">Most recent addition</h2>
{% if latest_production %}
<p>
<a href="{{ latest_production.get_absolute_url }}">{{ latest_production.play|prettify }}</a>,
{% ifequal latest_production.places.count 1 %}
    at <a href="{{ latest_production.places.all.0.get_absolute_url }}">{{ latest_production.places.all.0|prettify }}</a>,
    {{ latest_production.date_summary|prettify }}.
    {% if latest_production.place_set.all.0.press_date and latest_production.place_set.all.0.start_date %}
        Press night was {{ latest_production.place_set.all.0.press_date|date:"jS F Y"|prettify }}.
    {% endif %}
{% else %}
{% ifequal latest_production.places.count 0 %}
    at an unknown location.
{% else %}
    at
    {% for place in latest_production.place_set.all %}
        {% if forloop.last and not forloop.first %} and {% endif %}
        <a href="{{ place.place.get_absolute_url }}">{{ place.place|prettify }}</a>
        <small>({{ place.date_summary|prettify }})</small>{% ifequal forloop.revcounter0 0 %}{% else %}{% ifequal forloop.revcounter0 1 %}{% ifnotequal forloop.counter0 0 %},{% endifnotequal %}{% else %},{% endifequal %}{% endifequal %}{% endfor %}.
{% endifequal %}
{% endifequal %}
{% ifnotequal latest_production.last_modifier latest_production.creator %}
Added by {{ latest_production.creator.name }}, last modified by {{ latest_production.last_modifier.name }}.
{% else %}
{% if latest_production.creator.name %}
Added by {{ latest_production.creator.name }}.
{% endif %}
{% endifnotequal %}
</p>
{% else %}
<p>Nothing in the system yet!</p>
{% endif %}

<p>Theatricalia knows about
<strong>{{ people|prettify_num }}</strong> people being cast and crew in
<strong>{{ parts|prettify_num }}</strong> r&ocirc;les, in
<strong>{{ productions|prettify_num }}</strong> productions of
<strong>{{ plays|prettify_num }}</strong> plays at
<strong>{{ places|prettify_num }}</strong> places.
</p>

<h2 class="no-descenders">Site news</h2>

{% if latest_news %}
    <p><strong>{{ latest_news.title }}:</strong>
    {{ latest_news.body|safe|truncatewords:"20"|prettify }}
    <a href="{{ latest_news.get_absolute_url }}">More</a>
{% else %}
    <p>No news yet, we haven&rsquo;t launched!</p>
{% endif %}

</div>

{% endblock %}
